## docker-go
В данном проекте показан пример тестирования, сборки и развертывания GO прилоения с использование docker контейнеров.
Приследовались следующие задачи:
- реализация запуска тестов и сборки в контенере (актуально в первую очередь для сборки на CI)
- сборка легковестного контенера для деплоймента

###Makefile 

`make test`:
- запускает контейнер из образа _golang:latest_
- монтирует директорию проета в контенер в _GOPATH_
- устанавливает в контенере _dep_ в качестве менеджера зависимостей
- устанавливает в контейнере _go2xunit_ для конвертации отчетов тестирования
- через dep разрешает зависимости указанные в _Gopkg.toml_ и _Gopkg.lock_
- запускает тесты с сохранением отчета в _tests.xml_

`make build`
- запускает контейнер из образа _golang:latest_
- монтирует директорию проета в контенер в _GOPATH_
- устанавливает в контенере dep в качестве менеджера зависимостей
- через _dep_ разрешает зависимости указанные в Gopkg.toml и Gopkg.lock
- запускает сборку бинарника _docker-go_

`make image`
- запускает сборку образа из _Dockerfile_
- в _Dockerfile_ описана сборка на основе _scratch_; используется бинарник от `make build`

`make run`
- запускает контейнер из образа собранного `make image`